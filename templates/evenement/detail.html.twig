{% extends 'FrontOfficeVisiteur.html.twig' %}

{% block body%}
    <script
            src="https://code.jquery.com/jquery-3.6.3.js"
            integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
            crossorigin="anonymous"></script>
<style>
    #stars
    {
        width:200px;
        height:200px;
        margin:50px auto;
    }
    lt
    {
        display:inline-block;
    {# font-size:20px; #}
        padding:1px;
        color:#ccc;
    }
    .hovered-stars
    {
        color:#FFCC36;
    }
    .clicked-stars
    {
        color:sandybrown;
    }
</style>
<script>
    var data;
    $(document).ready(function(){
        $("lt").mouseover(function(){
            var current = $(this);
            $("lt").each(function(index){
                $(this).addClass("hovered-stars");
                if(index == current.index())
                {
                    return false;
                }
            })
        })
        $("lt").mouseleave(function(){
            $("lt").removeClass("hovered-stars");
        });
        $("lt i").click(function(){
            $("lt").removeClass("clicked-stars");
            $(".hovered-stars").addClass("clicked-stars");
            var val=$(".clicked-stars").length;

            console.log(val);
              $.ajax({
                type: "POST",
                url: "{{path('star',{'id':event.getId()})}}",
                data: {value:val},
                dataType: "json",
                success: function(response) {
                    console.log(response);
                    //$("#msg").html((response.toFixed(2))+"/5");
                },
                error: function(jqXHR, status, error) {
                    console.log(error);

                }
            });
        });

    })
</script>

    <div class="container-fluid py-5">
        <div class="row px-xl-5">
            <div class="col-lg-5 pb-5">
                <div id="product-carousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner border">

                        <div class="carousel-item">
                            {#<img class="w-100 h-100" src="img/product-4.jpg" alt="Image">#}
                        </div>
                    </div>

                </div>
            </div>

            <div class="col-lg-7 pb-5">
                <h3 class="font-weight-semi-bold">{{ event.getNomEv() }}</h3>
                <div id="stars">
                    <ul>
                        <lt><i value="1" class="fa fa-star fa-fw"></i></lt>
                        <lt><i value="2" class="fa fa-star fa-fw"></i></lt>
                        <lt><i value="3" class="fa fa-star fa-fw"></i></lt>
                        <lt><i value="4" class="fa fa-star fa-fw"></i></lt>
                        <lt><i value="5" class="fa fa-star fa-fw"></i></lt>

                    </ul>
                </div>

                <h3 class="font-weight-semi-bold mb-4">{{event.getDatedEv()|date('d-m-Y')}}</h3>
                <h3 class="font-weight-semi-bold mb-4">{{event.getDatefEv()|date('d-m-Y')}}</h3>


                <p class="mb-4">{{ event.getDescEv() }}</p>

            </div>
        </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}