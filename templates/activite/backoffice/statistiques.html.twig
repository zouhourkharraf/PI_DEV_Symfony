{% extends 'BackOffice.html.twig' %}
{% block contenu %}


	<body class="sb-nav-fixed">

		<div id="layoutSidenav">

			<div id="layoutSidenav_content">
				<main>
					<div class="container-fluid px-4">
						<h1 class="mt-4">Les activités</h1>
						<ol class="breadcrumb mb-4">
							<li class="breadcrumb-item">
								<a href="{{ path('app_addactivite') }}">Ajouter une activité</a>
							</li>
							<li class="breadcrumb-item">
								<a href="{{ path('app_showtype') }}">Les types d'activités</a>
							</li>
							<li class="breadcrumb-item">
								<a href="{{ path('app_statistiques') }}">Statistiques</a>
							</li>
							<li class="breadcrumb-item">
								<a href="{{ path('app_showactivite') }}">Liste des activités</a>
							</li>

						</ol>
						<div class="card mb-4">
							<div class="card-body">
								Cette page contient les statistiques.
							</div>
						</div>
						<div class="card mb-4">
							<div class="card-header">
								<i class="fas fa-table me-1"></i>
								Statistiques
							</div>

						</div>
						<div id="chart_div" style="width: 900px; height: 500px;"></div>

						<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
						<script type="text/javascript">
							google.charts.load('current', {'packages': ['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
var data = google.visualization.arrayToDataTable([
[
'Statistiques', 'Nombre'
],
[
'Nombre total d\'activités', {{ nbActivites }}
],
[
'Nombre d\'élèves ayant participé à au moins une activité', {{ nbElevesParticipes }}
],
[
'Pourcentage d\'élèves ayant participé à au moins une activité', {{ statistique }}
]
]);

var options = {
title: 'Statistiques',
legend: {
position: 'none'
},
chartArea: {
width: '50%'
},
hAxis: {
title: 'Nombre',
minValue: 0
},
vAxis: {
title: 'Statistiques'
}
};

var chart = new google.visualization.BarChart(document.getElementById('chart_div'));

chart.draw(data, options);
}
						</script>
					</div>
				</main>

			</div>
		</div>
	</body>
{% endblock %}

{% block js %}
	<script src="{{ asset('https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js') }}" crossorigin="anonymous"></script>
	<script src="{{ asset('js_back/scripts.js') }}"></script>
	<script src="{{ asset('https://cdn.jsdelivr.net/npm/simple-datatables@latest') }}" crossorigin="anonymous"></script>
	<script src="{{ asset('js_back/datatables-simple-demo.js') }}"></script>
{% endblock %}
